#!/usr/bin/env sh

# Omarchy-style SketchyBar Configuration

source "$HOME/.config/sketchybar/colors.sh" # Loads all defined colors
source "$HOME/.config/sketchybar/icons.sh"  # Loads all defined icons

ITEM_DIR="$HOME/.config/sketchybar/items"     # Directory where the items are configured
PLUGIN_DIR="$HOME/.config/sketchybar/plugins" # Directory where all the plugin scripts are stored

FONT="SF Pro"                                                 # Label font
ICON_FONT="JetBrainsMono Nerd Font"                           # Icon font (for Nerd Font glyphs)
SPACE_CLICK_SCRIPT="yabai -m space --focus \$SID 2>/dev/null" # The script that is run for clicking on space components

PADDINGS=8 # Omarchy uses more generous padding
MODULE_PADDING=6

POPUP_BORDER_WIDTH=2
POPUP_CORNER_RADIUS=12

SHADOW=off

# Setting up the general bar appearance (Omarchy-style)
sketchybar --bar height=35 \
  color=$BAR_COLOR \
  shadow=$SHADOW \
  position=top \
  sticky=on \
  padding_right=10 \
  padding_left=10 \
  corner_radius=0 \
  y_offset=0 \
  margin=0 \
  blur_radius=20 \
  \
  --default updates=when_shown \
  icon.font="$ICON_FONT:Semibold:11.0" \
  icon.color=$ICON_COLOR \
  icon.padding_left=$MODULE_PADDING \
  icon.padding_right=$MODULE_PADDING \
  label.font="$FONT:Medium:11.0" \
  label.color=$LABEL_COLOR \
  label.padding_left=$MODULE_PADDING \
  label.padding_right=$MODULE_PADDING \
  background.padding_right=2 \
  background.padding_left=2 \
  background.corner_radius=0 \
  background.height=10 \
  popup.background.border_width=0 \
  popup.background.corner_radius=0 \
  popup.background.border_color=$POPUP_BORDER_COLOR \
  popup.background.color=$POPUP_BACKGROUND_COLOR \
  popup.background.shadow.drawing=$SHADOW

# Left
# (minimal left side for Omarchy style)

# Center
source "$ITEM_DIR/spaces.sh"

# Right
source "$ITEM_DIR/wifi.sh"
source "$ITEM_DIR/volume.sh"
source "$ITEM_DIR/battery.sh"
source "$ITEM_DIR/calendar.sh"

############## FINALIZING THE SETUP ##############
sketchybar --update

echo "sketchybar configuation loaded.."
